<ion-header>
  <ion-toolbar color="primary">
    <ion-title class="animate__animated animate__fadeIn">عدم انطباق جدید</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form" (ngSubmit)="newNonConformity()" >
    <ion-grid>
      <ion-row>
        <ion-col size-xs="8" offset-xs="2" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <ion-label>
              <h2>تاریخ ثبت :{{today | date}}</h2>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating"><h2>عنوان</h2></ion-label>
            <ion-input name="title" type="text" formControlName="title"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3" size-xs="12" *ngIf="!form.get('title').valid && form.get('title').touched">
          <ion-item lines="none">
            <ion-label color="danger">
              <p>درج عنوان الزامی است</p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <ion-label><h2>ثبت تصویر</h2></ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-img src="../../../assets/img/nc.jpg"></ion-img>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <ion-label position="floating"><h2>توضیحات</h2></ion-label>
            <ion-textarea name="description" type="text" rows="3" formControlName="description"></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12" size-sm="6" offset-sm="3" *ngIf="!form.get('description').valid && form.get('description').touched">
          <ion-item lines="none">
            <ion-label color="danger">
              <p>ارائه توضیحات الزامی است</p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-sm="6">
          <ion-item>
            <ion-label position="floating"><h2>مکان</h2></ion-label>
            <ion-input name="location" type="text" formControlName="location"></ion-input>
            <app-location-picker slot="end" class="ion-margin"></app-location-picker>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12" size-sm="6" offset-sm="3" *ngIf="!form.get('location').valid && form.get('location').touched">
          <ion-item lines="none">
            <ion-label color="danger">
              <p>ذکر مکان الزامی است</p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating"><h2>شدت</h2></ion-label>
            <ion-select name="severity" formControlName="severity">
              <ion-select-option value="بحرانی">بحرانی</ion-select-option>
              <ion-select-option value="غیر بحرانی">غیر بحرانی</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12" size-sm="6" offset-sm="3" *ngIf="!form.get('severity').valid && form.get('severity').touched">
          <ion-item lines="none">
            <ion-label color="danger">
              <p>ذکر شدت الزامی است</p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating"><h2>حوزه</h2></ion-label>
            <ion-select name="sphere" formControlName="sphere">
              <ion-select-option value="طراحی">طراحی</ion-select-option>
              <ion-select-option value="ساخت تجهیزات">ساخت تجهیزات</ion-select-option>
              <ion-select-option value="احداث">احداث</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12" size-sm="6" offset-sm="3" *ngIf="!form.get('sphere').valid && form.get('sphere').touched">
          <ion-item lines="none">
            <ion-label color="danger">
              <p>ذکر حوزه الزامی است</p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating"><h2>کد مدارک مرجع</h2></ion-label>
            <ion-input name="ref" type="text" formControlName="ref"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12" size-sm="6" offset-sm="3" *ngIf="!form.get('ref').valid && form.get('ref').touched">
          <ion-item lines="none">
            <ion-label color="danger">
              <p>ذکر مدرک مرجع الزامی است</p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-button class="ion-margin" color="primary" fill="outline" expand="block" type="submit" [disabled]="!form.valid">ثبت عدم انطباق</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
